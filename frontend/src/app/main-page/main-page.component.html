<div class="leftGrid">
  <div class="planList">
    <expl-zs-plan-list
      [plans]="plans()"
      [(selectedPlan)]="selectedPlan" />
  </div>
  <div class="leftBottomGrid">
    @if (this.selectedPlan()) {
      <expl-zs-explainer-select [(selectedExplainer)]="selectedExplainer" />
    }
    <div class="flexColumn">
      @if (this.selectedPlanPrediction(); as prediction) {
        <expl-zs-prediction-block [prediction]="prediction" />
        <mat-divider></mat-divider>
      }
      @if (this.selectedFullPlan() && this.selectedPlanPrediction() && this.selectedPlanExplanation()) {
        <expl-zs-node-importance-list
          [fullPlan]="this.selectedFullPlan()!"
          [prediction]="this.selectedPlanPrediction()!"
          [explanation]="this.selectedPlanExplanation()!"
          [(selectedNode)]="this.selectedNode" />
      }
    </div>
  </div>
</div>
<div class="rightGrid">
  <div class="graphBlock">
    @if (this.selectedFullPlan()) {
      <expl-zs-plan-graph
        [graph]="this.selectedFullPlan()"
        [explanation]="this.selectedPlanExplanation()"
        [(selectedNode)]="selectedNode"></expl-zs-plan-graph>
    }
  </div>
  @if (this.selectedNode(); as selectedNode) {
    <expl-zs-node-info-list
      [selectedNode]="selectedNode"
      [prediction]="this.selectedPlanPrediction()"
      [explanation]="this.selectedPlanExplanation()" />
  }
</div>
@if (isLoading()) {
  <mat-spinner></mat-spinner>
}
